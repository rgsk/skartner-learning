write most optimal solution for this problem in c++, include basic comments.